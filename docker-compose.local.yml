# ホストに直接データを保存したい場合はこちらを使用
# docker compose -f docker-compose.local.yml up -d

services:
  openclaw:
    build: .
    container_name: openclaw
    restart: unless-stopped
    ports:
      - "5901:5901"   # VNC
      - "6080:6080"   # noVNC (browser access)
      - "18790:18790" # OpenClaw Gateway
    volumes:
      # ホストのdataフォルダに全て保存
      - ./data:/home/openclaw/.openclaw
    env_file:
      - .env
    environment:
      - DISPLAY=:1
      - NODE_ENV=production
    shm_size: '2gb'  # Chromium needs shared memory
